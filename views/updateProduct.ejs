<%- include('./partials/header') %>

<div class="min-h-screen flex items-center justify-center px-6 py-16 bg-gray-50">
  <div class="w-full max-w-3xl bg-white rounded-lg shadow-md p-10">
    <h2 class="text-3xl font-bold mb-8 text-gray-800 border-b pb-4">Edit Product</h2>

    <form action="/owner/products/edit/<%= product._id %>" method="POST" enctype="multipart/form-data" class="space-y-8">

      <!-- Image Preview -->
      <div>
        <label class="block font-semibold text-gray-700 mb-2">Current Image:</label>
        <div class="w-1/2 m-[auto] h-52 flex items-center justify-center border rounded bg-[<%= product.bgcolor %>] mb-4">
          <img class="w-2/3 h-full object-contain" src="data:image/jpeg;base64,<%= product.image.toString('base64') %>" alt="Product Image">
        </div>
        <label class="block font-semibold text-gray-700 mb-2">Replace Image (optional):</label>
        <input name="image" type="file" class="w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400" />
      </div>

      <!-- Product Fields -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <label class="block mb-1 text-gray-700 font-medium">Product Name</label>
          <input name="name" type="text" value="<%= product.name %>" class="w-full p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
        </div>

        <div>
          <label class="block mb-1 text-gray-700 font-medium">Price (â‚¹)</label>
          <input name="price" type="number" value="<%= product.price %>" class="w-full p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
        </div>

        <div>
          <label class="block mb-1 text-gray-700 font-medium">Discount (%)</label>
          <input name="discount" type="number" value="<%= product.discount %>" class="w-full p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>
      </div>

      <!-- Panel Styles -->
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <div>
          <label class="block mb-1 text-gray-700 font-medium">Background Color</label>
          <input name="bgcolor" type="text" value="<%= product.bgcolor %>" placeholder="#ffffff" class="w-full p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>
        <div>
          <label class="block mb-1 text-gray-700 font-medium">Panel Color</label>
          <input name="panelcolor" type="text" value="<%= product.panelcolor %>" placeholder="#000000" class="w-full p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>
        <div>
          <label class="block mb-1 text-gray-700 font-medium">Text Color</label>
          <input name="textcolor" type="text" value="<%= product.textcolor %>" placeholder="#000000" class="w-full p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>
      </div>

      <!-- Submit Button -->
      <div class="text-right flex justify-between">
        <a href="/owner/products" class="bg-blue-600 hover:bg-blue-700 text-white font-semibold px-6 py-3 rounded-md shadow-sm transition">
          Cancel
        </a>
        <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white font-semibold px-6 py-3 rounded-md shadow-sm transition">
          Update Product
        </button>
      </div>
    </form>
  </div>
</div>
